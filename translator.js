// GraTech Commander - Smart Request Translator + i18n System
// Ù…ØªØ±Ø¬Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø°ÙƒÙŠ - By Suliman Alshammari
// "Your AI, Your Way, Your Language" ğŸŒ

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸŒ INTERNATIONAL TRANSLATIONS (i18n)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const i18n = {
  // ğŸ‡¸ğŸ‡¦ Arabic (Default)
  ar: {
    // Onboarding
    welcome: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ GraTech Commander",
    subtitle: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ø·Ø±ÙŠÙ‚ØªÙƒØŒ Ø¨Ø®ØµÙˆØµÙŠØªÙƒØŒ Ø¨Ù„ØºØªÙƒ",
    letsStart: "ÙŠÙ„Ø§ Ù†Ø¨Ø¯Ø£! ğŸš€",
    next: "Ø§Ù„ØªØ§Ù„ÙŠ â†’",
    back: "â† Ø±Ø¬ÙˆØ¹",
    ready: "Ø¬Ø§Ù‡Ø²!",
    startChat: "ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©",
    skipAlways: "ØªØ®Ø·ÙŠ Ø¯Ø§Ø¦Ù…Ø§Ù‹",
    
    // Features
    feature_models: "5 Ù†Ù…Ø§Ø°Ø¬ AI",
    feature_privacy: "Ø®ØµÙˆØµÙŠØ© 100%",
    feature_arabic: "ÙŠÙÙ‡Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ",
    feature_safety: "Ø­Ù…Ø§ÙŠØ© Ø°ÙƒÙŠØ©",
    
    // Model Selection
    chooseModel: "ğŸ¤– Ø§Ø®ØªØ± Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù…ÙØ¶Ù„",
    modelDesc: "ÙƒÙ„ Ù†Ù…ÙˆØ°Ø¬ Ù„Ù‡ Ù‚ÙˆØªÙ‡ - Ø§Ø®ØªØ± Ø§Ù„Ù„ÙŠ ÙŠÙ†Ø§Ø³Ø¨Ùƒ",
    balanced: "Ù…ØªÙˆØ§Ø²Ù† ÙˆØ³Ø±ÙŠØ¹",
    deepAnalysis: "ØªØ­Ù„ÙŠÙ„ Ø¹Ù…ÙŠÙ‚",
    codeLogic: "ÙƒÙˆØ¯ ÙˆÙ…Ù†Ø·Ù‚",
    fastest: "Ø§Ù„Ø£Ø³Ø±Ø¹",
    mostPopular: "Ø§Ù„Ø£ÙƒØ«Ø± Ø´Ø¹Ø¨ÙŠØ©",
    forComplex: "Ù„Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©",
    forDevs: "Ù„Ù„Ù…Ø¨Ø±Ù…Ø¬ÙŠÙ†",
    veryFast: "Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹",
    
    // API Setup
    apiSetup: "ğŸ”‘ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ÙØªØ§Ø­",
    apiDesc: "Ø§Ø³ØªØ®Ø¯Ù… Ù…ÙØªØ§Ø­Ùƒ Ø§Ù„Ø®Ø§Øµ Ø£Ùˆ Ø¬Ø±Ø¨ Ø¨Ø¯ÙˆÙ†",
    freeDemo: "ØªØ¬Ø±Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ©",
    demoDesc: "Ø¬Ø±Ø¨ Ø¨Ø¯ÙˆÙ† Ù…ÙØªØ§Ø­ (Ù…Ø­Ø¯ÙˆØ¯)",
    byok: "Ù…ÙØªØ§Ø­Ùƒ Ø§Ù„Ø®Ø§Øµ (BYOK)",
    byokDesc: "ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ Ø¨Ù€ API",
    privacyPromise: "ÙˆØ¹Ø¯Ù†Ø§: Ù…ÙØ§ØªÙŠØ­Ùƒ ØªØ¨Ù‚Ù‰ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙÙ‚Ø·",
    apiKey: "ğŸ”‘ API Key",
    endpoint: "ğŸŒ Endpoint (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
    
    // Safety
    safetyTitle: "ğŸ›¡ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø°ÙƒÙŠ",
    safetyDesc: "Ù†Ø­Ù…ÙŠÙƒ Ø¨Ù…ÙˆØ§ÙÙ‚ØªÙƒ - ÙƒÙ„ Ø´ÙŠØ¡ Ø¨ÙŠØ¯Ùƒ",
    confirmDelete: "ğŸ—‘ï¸ ØªØ£ÙƒÙŠØ¯ Ù‚Ø¨Ù„ Ø£ÙŠ Ø­Ø°Ù",
    confirmCloud: "â˜ï¸ ØªØ£ÙƒÙŠØ¯ Ù‚Ø¨Ù„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø³Ø­Ø§Ø¨Ø©",
    explainOps: "ğŸ“ Ø´Ø±Ø­ ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„ØªÙ†ÙÙŠØ°",
    logConsent: "ğŸ“œ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø§Øª",
    philosophy: "Ø£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ø®Ø¯Ù…ØªÙƒØŒ Ù…Ùˆ Ø£Ø¯Ø§Ø© Ø¹Ù„ÙŠÙƒ.\nØ§Ù„Ù‚Ø±Ø§Ø± Ù„Ùƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹.",
    
    // Tips
    tips: "ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ø³Ø±ÙŠØ¹Ø©:",
    tip1: "Ø§ÙƒØªØ¨ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ø¹Ø§Ù…ÙŠØ© - Ø£ÙÙ‡Ù…Ùƒ!",
    tip2: "Ø§Ø³ØªØ®Ø¯Ù… \"ğŸ”’ Ø¢Ù…Ù†\" Ù„Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø³Ø©",
    tip3: "Ø§Ø¶ØºØ· \"ğŸ™ˆ Ø£Ø®ÙÙŠ\" Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…ÙØ§ØªÙŠØ­",
    tip4: "Ø²Ø± ğŸš¨ ÙŠÙˆÙ‚Ù ÙƒÙ„ Ø´ÙŠØ¡ ÙÙˆØ±Ø§Ù‹",
    
    // Navigation
    chat: "ğŸ’¬ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©",
    vault: "ğŸ” Ø§Ù„Ø®Ø²Ù†Ø©",
    notes: "ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙŠ",
    github: "ğŸ™ GitHub",
    azure: "â˜ï¸ Azure",
    accounts: "ğŸ‘¤ Ø­Ø³Ø§Ø¨Ø§ØªÙŠ",
    settings: "âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
    safety: "ğŸ›¡ï¸ Ø§Ù„Ø­Ù…Ø§ÙŠØ©",
    
    // Chat
    chatTitle: "ğŸ’¬ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
    welcomeChat: "Ù…Ø±Ø­Ø¨Ø§Ù‹! ğŸ‘‹",
    readyToHelp: "Ø£Ù†Ø§ Ø¬Ø§Ù‡Ø² Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©. Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©.",
    explainMe: "ğŸ’¡ Ø§Ø´Ø±Ø­ Ù„ÙŠ...",
    helpWrite: "âœï¸ Ø³Ø§Ø¹Ø¯Ù†ÙŠ Ø£ÙƒØªØ¨...",
    analyzeThis: "ğŸ” Ø­Ù„Ù„ Ù‡Ø°Ø§...",
    makeCode: "ğŸ’» Ø³Ùˆ Ù„ÙŠ ÙƒÙˆØ¯...",
    placeholder: "Ø§ÙƒØªØ¨ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø¨Ø±Ø§Ø­ØªÙƒ... Ø£Ù†Ø§ Ø£ÙÙ‡Ù…Ùƒ ğŸ˜Š",
    send: "Ø¥Ø±Ø³Ø§Ù„ â–¶",
    
    // Modes
    normal: "ğŸ’¬ Ø¹Ø§Ø¯ÙŠ",
    code: "ğŸ’» ÙƒÙˆØ¯",
    safe: "ğŸ”’ Ø¢Ù…Ù†",
    research: "ğŸ” Ø¨Ø­Ø«",
    
    // Actions
    voice: "ØªØ­Ø¯Ø« Ø¨ØµÙˆØªÙƒ",
    translate: "ğŸ”„ Ø­ÙˆÙ‘Ù„",
    hideSecrets: "ğŸ™ˆ Ø£Ø®ÙÙŠ",
    attach: "Ø¥Ø±ÙØ§Ù‚ Ù…Ù„Ù",
    quickNote: "Ù…Ù„Ø§Ø­Ø¸Ø© Ø³Ø±ÙŠØ¹Ø©",
    export: "ØªØµØ¯ÙŠØ±",
    
    // Settings
    saveSettings: "ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
    settingsNote: "ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙÙ‚Ø·.",
    
    // Safety View
    ourPhilosophy: "ğŸ™ ÙÙ„Ø³ÙØªÙ†Ø§",
    riskLevels: "ğŸ“Š Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø®Ø·ÙˆØ±Ø©",
    riskSafe: "Ø¢Ù…Ù†",
    riskLow: "Ù…Ù†Ø®ÙØ¶",
    riskMedium: "Ù…ØªÙˆØ³Ø·",
    riskHigh: "Ø¹Ø§Ù„ÙŠ",
    riskCritical: "Ø­Ø±Ø¬",
    emergencyStop: "ğŸš¨ Ø¥ÙŠÙ‚Ø§Ù Ø·ÙˆØ§Ø±Ø¦",
    emergencyNote: "ÙŠÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙÙˆØ±Ø§Ù‹",
    
    // Footer
    madeWith: "ØµÙ†Ø¹ Ø¨Ù€ â¤ï¸ Ø¨ÙˆØ§Ø³Ø·Ø©",
    author: "Ø³Ù„ÙŠÙ…Ø§Ù† Ù†Ø²Ø§Ù„ Ø§Ù„Ø´Ù…Ø±ÙŠ"
  },

  // ğŸ‡ºğŸ‡¸ English
  en: {
    welcome: "Welcome to GraTech Commander",
    subtitle: "AI Your Way, Your Privacy, Your Language",
    letsStart: "Let's Start! ğŸš€",
    next: "Next â†’",
    back: "â† Back",
    ready: "Ready!",
    startChat: "ğŸš€ Start Chatting",
    skipAlways: "Skip Always",
    
    feature_models: "5 AI Models",
    feature_privacy: "100% Privacy",
    feature_arabic: "Multilingual",
    feature_safety: "Smart Safety",
    
    chooseModel: "ğŸ¤– Choose Your Preferred AI Model",
    modelDesc: "Each model has its strengths - pick what suits you",
    balanced: "Balanced & Fast",
    deepAnalysis: "Deep Analysis",
    codeLogic: "Code & Logic",
    fastest: "Fastest",
    mostPopular: "Most Popular",
    forComplex: "For Complex Tasks",
    forDevs: "For Developers",
    veryFast: "Very Fast",
    
    apiSetup: "ğŸ”‘ API Setup",
    apiDesc: "Use your own key or try without",
    freeDemo: "Free Demo",
    demoDesc: "Try without a key (limited)",
    byok: "Your Own Key (BYOK)",
    byokDesc: "Full API control",
    privacyPromise: "Our Promise: Your keys stay on YOUR device only",
    apiKey: "ğŸ”‘ API Key",
    endpoint: "ğŸŒ Endpoint (optional)",
    
    safetyTitle: "ğŸ›¡ï¸ Smart Protection System",
    safetyDesc: "We protect you with your consent - you're in control",
    confirmDelete: "ğŸ—‘ï¸ Confirm before any deletion",
    confirmCloud: "â˜ï¸ Confirm before cloud operations",
    explainOps: "ğŸ“ Explain each operation before execution",
    logConsent: "ğŸ“œ Log all consents",
    philosophy: "I'm here to serve you, not control you.\nThe decision is always yours.",
    
    tips: "ğŸ’¡ Quick Tips:",
    tip1: "Write naturally - I understand you!",
    tip2: "Use \"ğŸ”’ Safe\" for sensitive topics",
    tip3: "Press \"ğŸ™ˆ Hide\" to mask secrets",
    tip4: "ğŸš¨ button stops everything immediately",
    
    chat: "ğŸ’¬ Chat",
    vault: "ğŸ” Vault",
    notes: "ğŸ“ My Notes",
    github: "ğŸ™ GitHub",
    azure: "â˜ï¸ Azure",
    accounts: "ğŸ‘¤ Accounts",
    settings: "âš™ï¸ Settings",
    safety: "ğŸ›¡ï¸ Safety",
    
    chatTitle: "ğŸ’¬ Chat with AI",
    welcomeChat: "Hello! ğŸ‘‹",
    readyToHelp: "I'm ready to help. Choose a model and start chatting.",
    explainMe: "ğŸ’¡ Explain...",
    helpWrite: "âœï¸ Help me write...",
    analyzeThis: "ğŸ” Analyze this...",
    makeCode: "ğŸ’» Write code...",
    placeholder: "Type naturally... I understand you ğŸ˜Š",
    send: "Send â–¶",
    
    normal: "ğŸ’¬ Normal",
    code: "ğŸ’» Code",
    safe: "ğŸ”’ Safe",
    research: "ğŸ” Research",
    
    voice: "Voice input",
    translate: "ğŸ”„ Transform",
    hideSecrets: "ğŸ™ˆ Hide",
    attach: "Attach file",
    quickNote: "Quick note",
    export: "Export",
    
    saveSettings: "ğŸ’¾ Save Settings",
    settingsNote: "Settings are saved locally on your device only.",
    
    ourPhilosophy: "ğŸ™ Our Philosophy",
    riskLevels: "ğŸ“Š Risk Levels",
    riskSafe: "Safe",
    riskLow: "Low",
    riskMedium: "Medium",
    riskHigh: "High",
    riskCritical: "Critical",
    emergencyStop: "ğŸš¨ Emergency Stop",
    emergencyNote: "Stops all operations immediately",
    
    madeWith: "Made with â¤ï¸ by",
    author: "Suliman Nazal Alshammari"
  },

  // ğŸ‡«ğŸ‡· French
  fr: {
    welcome: "Bienvenue sur GraTech Commander",
    subtitle: "L'IA Ã  votre faÃ§on, votre vie privÃ©e, votre langue",
    letsStart: "CommenÃ§ons! ğŸš€",
    next: "Suivant â†’",
    back: "â† Retour",
    ready: "PrÃªt!",
    startChat: "ğŸš€ Commencer Ã  discuter",
    skipAlways: "Toujours ignorer",
    
    feature_models: "5 ModÃ¨les IA",
    feature_privacy: "100% PrivÃ©",
    feature_arabic: "Multilingue",
    feature_safety: "SÃ©curitÃ© intelligente",
    
    chooseModel: "ğŸ¤– Choisissez votre modÃ¨le IA prÃ©fÃ©rÃ©",
    modelDesc: "Chaque modÃ¨le a ses forces - choisissez ce qui vous convient",
    balanced: "Ã‰quilibrÃ© et rapide",
    deepAnalysis: "Analyse approfondie",
    codeLogic: "Code et logique",
    fastest: "Le plus rapide",
    mostPopular: "Plus populaire",
    forComplex: "Pour tÃ¢ches complexes",
    forDevs: "Pour dÃ©veloppeurs",
    veryFast: "TrÃ¨s rapide",
    
    chat: "ğŸ’¬ Discussion",
    vault: "ğŸ” Coffre",
    notes: "ğŸ“ Mes notes",
    settings: "âš™ï¸ ParamÃ¨tres",
    safety: "ğŸ›¡ï¸ SÃ©curitÃ©",
    
    placeholder: "Tapez naturellement... Je vous comprends ğŸ˜Š",
    send: "Envoyer â–¶",
    
    madeWith: "Fait avec â¤ï¸ par",
    author: "Suliman Nazal Alshammari"
  },

  // ğŸ‡©ğŸ‡ª German
  de: {
    welcome: "Willkommen bei GraTech Commander",
    subtitle: "KI auf Ihre Art, Ihre PrivatsphÃ¤re, Ihre Sprache",
    letsStart: "Los geht's! ğŸš€",
    next: "Weiter â†’",
    back: "â† ZurÃ¼ck",
    ready: "Bereit!",
    startChat: "ğŸš€ Chat starten",
    skipAlways: "Immer Ã¼berspringen",
    
    feature_models: "5 KI-Modelle",
    feature_privacy: "100% Privat",
    feature_arabic: "Mehrsprachig",
    feature_safety: "Intelligenter Schutz",
    
    chooseModel: "ğŸ¤– WÃ¤hlen Sie Ihr bevorzugtes KI-Modell",
    modelDesc: "Jedes Modell hat seine StÃ¤rken - wÃ¤hlen Sie was passt",
    
    chat: "ğŸ’¬ Chat",
    vault: "ğŸ” Tresor",
    notes: "ğŸ“ Meine Notizen",
    settings: "âš™ï¸ Einstellungen",
    safety: "ğŸ›¡ï¸ Sicherheit",
    
    placeholder: "Schreiben Sie natÃ¼rlich... Ich verstehe Sie ğŸ˜Š",
    send: "Senden â–¶",
    
    madeWith: "Erstellt mit â¤ï¸ von",
    author: "Suliman Nazal Alshammari"
  },

  // ğŸ‡ªğŸ‡¸ Spanish
  es: {
    welcome: "Bienvenido a GraTech Commander",
    subtitle: "IA a tu manera, tu privacidad, tu idioma",
    letsStart: "Â¡Empecemos! ğŸš€",
    next: "Siguiente â†’",
    back: "â† AtrÃ¡s",
    ready: "Â¡Listo!",
    startChat: "ğŸš€ Empezar a chatear",
    skipAlways: "Saltar siempre",
    
    feature_models: "5 Modelos IA",
    feature_privacy: "100% Privado",
    feature_arabic: "MultilingÃ¼e",
    feature_safety: "Seguridad inteligente",
    
    chat: "ğŸ’¬ Chat",
    vault: "ğŸ” BÃ³veda",
    notes: "ğŸ“ Mis notas",
    settings: "âš™ï¸ ConfiguraciÃ³n",
    safety: "ğŸ›¡ï¸ Seguridad",
    
    placeholder: "Escribe naturalmente... Te entiendo ğŸ˜Š",
    send: "Enviar â–¶",
    
    madeWith: "Hecho con â¤ï¸ por",
    author: "Suliman Nazal Alshammari"
  },

  // ğŸ‡¨ğŸ‡³ Chinese
  zh: {
    welcome: "æ¬¢è¿ä½¿ç”¨ GraTech Commander",
    subtitle: "æ‚¨çš„AIï¼Œæ‚¨çš„æ–¹å¼ï¼Œæ‚¨çš„éšç§ï¼Œæ‚¨çš„è¯­è¨€",
    letsStart: "å¼€å§‹å§ï¼ğŸš€",
    next: "ä¸‹ä¸€æ­¥ â†’",
    back: "â† è¿”å›",
    ready: "å‡†å¤‡å¥½äº†ï¼",
    startChat: "ğŸš€ å¼€å§‹å¯¹è¯",
    skipAlways: "æ€»æ˜¯è·³è¿‡",
    
    feature_models: "5ä¸ªAIæ¨¡å‹",
    feature_privacy: "100%éšç§",
    feature_arabic: "å¤šè¯­è¨€",
    feature_safety: "æ™ºèƒ½å®‰å…¨",
    
    chat: "ğŸ’¬ å¯¹è¯",
    vault: "ğŸ” ä¿é™©åº“",
    notes: "ğŸ“ æˆ‘çš„ç¬”è®°",
    settings: "âš™ï¸ è®¾ç½®",
    safety: "ğŸ›¡ï¸ å®‰å…¨",
    
    placeholder: "è‡ªç„¶è¾“å…¥...æˆ‘èƒ½ç†è§£ä½  ğŸ˜Š",
    send: "å‘é€ â–¶",
    
    madeWith: "ç”¨ â¤ï¸ åˆ¶ä½œ",
    author: "è‹è±æ›¼Â·çº³æ‰å°”Â·é˜¿å°”æ²™é©¬é‡Œ"
  },

  // ğŸ‡¯ğŸ‡µ Japanese
  ja: {
    welcome: "GraTech Commander ã¸ã‚ˆã†ã“ã",
    subtitle: "ã‚ãªãŸã®AIã€ã‚ãªãŸã®æ–¹æ³•ã€ã‚ãªãŸã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼",
    letsStart: "å§‹ã‚ã¾ã—ã‚‡ã†ï¼ğŸš€",
    next: "æ¬¡ã¸ â†’",
    back: "â† æˆ»ã‚‹",
    ready: "æº–å‚™å®Œäº†ï¼",
    startChat: "ğŸš€ ãƒãƒ£ãƒƒãƒˆã‚’é–‹å§‹",
    skipAlways: "å¸¸ã«ã‚¹ã‚­ãƒƒãƒ—",
    
    feature_models: "5ã¤ã®AIãƒ¢ãƒ‡ãƒ«",
    feature_privacy: "100%ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼",
    feature_arabic: "å¤šè¨€èªå¯¾å¿œ",
    feature_safety: "ã‚¹ãƒãƒ¼ãƒˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£",
    
    chat: "ğŸ’¬ ãƒãƒ£ãƒƒãƒˆ",
    vault: "ğŸ” ä¿ç®¡åº«",
    notes: "ğŸ“ ãƒ¡ãƒ¢",
    settings: "âš™ï¸ è¨­å®š",
    safety: "ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£",
    
    placeholder: "è‡ªç„¶ã«å…¥åŠ›ã—ã¦ãã ã•ã„...ç†è§£ã§ãã¾ã™ ğŸ˜Š",
    send: "é€ä¿¡ â–¶",
    
    madeWith: "â¤ï¸ ã‚’è¾¼ã‚ã¦ä½œæˆ",
    author: "ã‚¹ãƒ©ã‚¤ãƒãƒ³ãƒ»ãƒŠã‚¶ãƒ«ãƒ»ã‚¢ãƒ«ã‚·ãƒ£ãƒãƒª"
  },

  // ğŸ‡°ğŸ‡· Korean
  ko: {
    welcome: "GraTech Commanderì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤",
    subtitle: "ë‹¹ì‹ ì˜ AI, ë‹¹ì‹ ì˜ ë°©ì‹, ë‹¹ì‹ ì˜ í”„ë¼ì´ë²„ì‹œ",
    letsStart: "ì‹œì‘í•©ì‹œë‹¤! ğŸš€",
    next: "ë‹¤ìŒ â†’",
    back: "â† ë’¤ë¡œ",
    ready: "ì¤€ë¹„ ì™„ë£Œ!",
    startChat: "ğŸš€ ì±„íŒ… ì‹œì‘",
    skipAlways: "í•­ìƒ ê±´ë„ˆë›°ê¸°",
    
    feature_models: "5ê°œ AI ëª¨ë¸",
    feature_privacy: "100% í”„ë¼ì´ë²„ì‹œ",
    feature_arabic: "ë‹¤êµ­ì–´ ì§€ì›",
    feature_safety: "ìŠ¤ë§ˆíŠ¸ ë³´ì•ˆ",
    
    chat: "ğŸ’¬ ì±„íŒ…",
    vault: "ğŸ” ê¸ˆê³ ",
    notes: "ğŸ“ ë‚´ ë…¸íŠ¸",
    settings: "âš™ï¸ ì„¤ì •",
    safety: "ğŸ›¡ï¸ ë³´ì•ˆ",
    
    placeholder: "ìì—°ìŠ¤ëŸ½ê²Œ ì…ë ¥í•˜ì„¸ìš”... ì´í•´í•©ë‹ˆë‹¤ ğŸ˜Š",
    send: "ë³´ë‚´ê¸° â–¶",
    
    madeWith: "â¤ï¸ìœ¼ë¡œ ì œì‘",
    author: "ìˆ ë¼ì´ë§Œ ë‚˜ì˜ ì•Œìƒ¤ë§ˆë¦¬"
  },

  // ğŸ‡¹ğŸ‡· Turkish
  tr: {
    welcome: "GraTech Commander'a HoÅŸ Geldiniz",
    subtitle: "AI sizin yolunuz, gizliliÄŸiniz, diliniz",
    letsStart: "Hadi BaÅŸlayalÄ±m! ğŸš€",
    next: "Ä°leri â†’",
    back: "â† Geri",
    ready: "HazÄ±r!",
    startChat: "ğŸš€ Sohbete BaÅŸla",
    skipAlways: "Her zaman atla",
    
    feature_models: "5 AI Modeli",
    feature_privacy: "100% Gizlilik",
    feature_arabic: "Ã‡ok dilli",
    feature_safety: "AkÄ±llÄ± GÃ¼venlik",
    
    chat: "ğŸ’¬ Sohbet",
    vault: "ğŸ” Kasa",
    notes: "ğŸ“ NotlarÄ±m",
    settings: "âš™ï¸ Ayarlar",
    safety: "ğŸ›¡ï¸ GÃ¼venlik",
    
    placeholder: "DoÄŸal yazÄ±n... Sizi anlÄ±yorum ğŸ˜Š",
    send: "GÃ¶nder â–¶",
    
    madeWith: "â¤ï¸ ile yapÄ±ldÄ±",
    author: "Suliman Nazal Alshammari"
  },

  // ğŸ‡·ğŸ‡º Russian
  ru: {
    welcome: "Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² GraTech Commander",
    subtitle: "Ğ˜Ğ˜ Ğ¿Ğ¾-Ğ²Ğ°ÑˆĞµĞ¼Ñƒ, Ğ²Ğ°ÑˆĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ğ²Ğ°Ñˆ ÑĞ·Ñ‹Ğº",
    letsStart: "ĞĞ°Ñ‡Ğ½Ñ‘Ğ¼! ğŸš€",
    next: "Ğ”Ğ°Ğ»ĞµĞµ â†’",
    back: "â† ĞĞ°Ğ·Ğ°Ğ´",
    ready: "Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!",
    startChat: "ğŸš€ ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ñ‡Ğ°Ñ‚",
    skipAlways: "Ğ’ÑĞµĞ³Ğ´Ğ° Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ",
    
    feature_models: "5 Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ Ğ˜Ğ˜",
    feature_privacy: "100% Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ",
    feature_arabic: "ĞœĞ½Ğ¾Ğ³Ğ¾ÑĞ·Ñ‹Ñ‡Ğ½Ñ‹Ğ¹",
    feature_safety: "Ğ£Ğ¼Ğ½Ğ°Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°",
    
    chat: "ğŸ’¬ Ğ§Ğ°Ñ‚",
    vault: "ğŸ” Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ",
    notes: "ğŸ“ ĞœĞ¾Ğ¸ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ¸",
    settings: "âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸",
    safety: "ğŸ›¡ï¸ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ",
    
    placeholder: "ĞŸĞ¸ÑˆĞ¸Ñ‚Ğµ ĞµÑÑ‚ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾... Ğ¯ Ğ²Ğ°Ñ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ñ ğŸ˜Š",
    send: "ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ â–¶",
    
    madeWith: "Ğ¡Ğ´ĞµĞ»Ğ°Ğ½Ğ¾ Ñ â¤ï¸",
    author: "Ğ¡ÑƒĞ»ĞµĞ¹Ğ¼Ğ°Ğ½ ĞĞ°Ğ·Ğ°Ğ»ÑŒ ĞĞ»ÑŒ-Ğ¨Ğ°Ğ¼Ğ¼Ğ°Ñ€Ğ¸"
  },

  // ğŸ‡®ğŸ‡³ Hindi
  hi: {
    welcome: "GraTech Commander à¤®à¥‡à¤‚ à¤†à¤ªà¤•à¤¾ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ",
    subtitle: "à¤†à¤ªà¤•à¤¾ AI, à¤†à¤ªà¤•à¤¾ à¤¤à¤°à¥€à¤•à¤¾, à¤†à¤ªà¤•à¥€ à¤—à¥‹à¤ªà¤¨à¥€à¤¯à¤¤à¤¾, à¤†à¤ªà¤•à¥€ à¤­à¤¾à¤·à¤¾",
    letsStart: "à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚! ğŸš€",
    next: "à¤†à¤—à¥‡ â†’",
    back: "â† à¤ªà¥€à¤›à¥‡",
    ready: "à¤¤à¥ˆà¤¯à¤¾à¤°!",
    startChat: "ğŸš€ à¤šà¥ˆà¤Ÿ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚",
    skipAlways: "à¤¹à¤®à¥‡à¤¶à¤¾ à¤›à¥‹à¤¡à¤¼à¥‡à¤‚",
    
    feature_models: "5 AI à¤®à¥‰à¤¡à¤²",
    feature_privacy: "100% à¤—à¥‹à¤ªà¤¨à¥€à¤¯à¤¤à¤¾",
    feature_arabic: "à¤¬à¤¹à¥à¤­à¤¾à¤·à¥€",
    feature_safety: "à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤¸à¥à¤°à¤•à¥à¤·à¤¾",
    
    chat: "ğŸ’¬ à¤šà¥ˆà¤Ÿ",
    vault: "ğŸ” à¤¤à¤¿à¤œà¥‹à¤°à¥€",
    notes: "ğŸ“ à¤®à¥‡à¤°à¥‡ à¤¨à¥‹à¤Ÿà¥à¤¸",
    settings: "âš™ï¸ à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸",
    safety: "ğŸ›¡ï¸ à¤¸à¥à¤°à¤•à¥à¤·à¤¾",
    
    placeholder: "à¤¸à¥à¤µà¤¾à¤­à¤¾à¤µà¤¿à¤• à¤°à¥‚à¤ª à¤¸à¥‡ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚... à¤®à¥ˆà¤‚ à¤¸à¤®à¤à¤¤à¤¾ à¤¹à¥‚à¤‚ ğŸ˜Š",
    send: "à¤­à¥‡à¤œà¥‡à¤‚ â–¶",
    
    madeWith: "â¤ï¸ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¬à¤¨à¤¾à¤¯à¤¾ à¤—à¤¯à¤¾",
    author: "à¤¸à¥à¤²à¥ˆà¤®à¤¾à¤¨ à¤¨à¤œà¤¼à¤² à¤…à¤²-à¤¶à¤®à¥à¤®à¤°à¥€"
  },

  // ğŸ‡µğŸ‡° Urdu
  ur: {
    welcome: "GraTech Commander Ù…ÛŒÚº Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯",
    subtitle: "Ø¢Ù¾ Ú©Ø§ AIØŒ Ø¢Ù¾ Ú©Ø§ Ø·Ø±ÛŒÙ‚ÛØŒ Ø¢Ù¾ Ú©ÛŒ Ø±Ø§Ø²Ø¯Ø§Ø±ÛŒØŒ Ø¢Ù¾ Ú©ÛŒ Ø²Ø¨Ø§Ù†",
    letsStart: "Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº! ğŸš€",
    next: "Ø§Ú¯Ù„Ø§ â†’",
    back: "â† ÙˆØ§Ù¾Ø³",
    ready: "ØªÛŒØ§Ø±!",
    startChat: "ğŸš€ Ú†ÛŒÙ¹ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº",
    skipAlways: "ÛÙ…ÛŒØ´Û Ú†Ú¾ÙˆÚ‘ÛŒÚº",
    
    feature_models: "5 AI Ù…Ø§ÚˆÙ„Ø²",
    feature_privacy: "100% Ø±Ø§Ø²Ø¯Ø§Ø±ÛŒ",
    feature_arabic: "Ú©Ø«ÛŒØ± Ù„Ø³Ø§Ù†ÛŒ",
    feature_safety: "Ø³Ù…Ø§Ø±Ù¹ Ø³ÛŒÚ©ÛŒÙˆØ±Ù¹ÛŒ",
    
    chat: "ğŸ’¬ Ú†ÛŒÙ¹",
    vault: "ğŸ” ÙˆØ§Ù„Ù¹",
    notes: "ğŸ“ Ù…ÛŒØ±Û’ Ù†ÙˆÙ¹Ø³",
    settings: "âš™ï¸ ØªØ±ØªÛŒØ¨Ø§Øª",
    safety: "ğŸ›¡ï¸ Ø³ÛŒÚ©ÛŒÙˆØ±Ù¹ÛŒ",
    
    placeholder: "Ù‚Ø¯Ø±ØªÛŒ Ø·ÙˆØ± Ù¾Ø± Ù¹Ø§Ø¦Ù¾ Ú©Ø±ÛŒÚº... Ù…ÛŒÚº Ø³Ù…Ø¬Ú¾ØªØ§ ÛÙˆÚº ğŸ˜Š",
    send: "Ø¨Ú¾ÛŒØ¬ÛŒÚº â–¶",
    
    madeWith: "â¤ï¸ Ú©Û’ Ø³Ø§ØªÚ¾ Ø¨Ù†Ø§ÛŒØ§ Ú¯ÛŒØ§",
    author: "Ø³Ù„ÛŒÙ…Ø§Ù† Ù†Ø²Ø§Ù„ Ø§Ù„Ø´Ù…Ø±ÛŒ"
  }
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸŒ LANGUAGE MANAGER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class LanguageManager {
  constructor() {
    this.currentLang = localStorage.getItem('gratech_lang') || 'ar';
    this.rtlLanguages = ['ar', 'ur'];
  }

  // Get translation
  t(key) {
    const lang = i18n[this.currentLang] || i18n.en;
    return lang[key] || i18n.en[key] || key;
  }

  // Set language
  setLanguage(lang) {
    if (!i18n[lang]) {
      console.warn(`Language ${lang} not supported, falling back to English`);
      lang = 'en';
    }
    
    this.currentLang = lang;
    localStorage.setItem('gratech_lang', lang);
    
    // Update HTML direction
    const isRTL = this.rtlLanguages.includes(lang);
    document.documentElement.dir = isRTL ? 'rtl' : 'ltr';
    document.documentElement.lang = lang;
    
    // Update all translatable elements
    this.updateUI();
    
    // Dispatch event for other components
    window.dispatchEvent(new CustomEvent('languageChanged', { detail: { lang, isRTL } }));
  }

  // Update all UI elements
  updateUI() {
    // Update elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      el.textContent = this.t(key);
    });

    // Update placeholders
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
      const key = el.getAttribute('data-i18n-placeholder');
      el.placeholder = this.t(key);
    });

    // Update titles
    document.querySelectorAll('[data-i18n-title]').forEach(el => {
      const key = el.getAttribute('data-i18n-title');
      el.title = this.t(key);
    });
  }

  // Get current language
  getCurrentLang() {
    return this.currentLang;
  }

  // Check if RTL
  isRTL() {
    return this.rtlLanguages.includes(this.currentLang);
  }

  // Get available languages
  getAvailableLanguages() {
    return Object.keys(i18n).map(code => ({
      code,
      name: this.getLanguageName(code),
      flag: this.getLanguageFlag(code)
    }));
  }

  getLanguageName(code) {
    const names = {
      ar: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
      en: 'English',
      fr: 'FranÃ§ais',
      de: 'Deutsch',
      es: 'EspaÃ±ol',
      zh: 'ä¸­æ–‡',
      ja: 'æ—¥æœ¬èª',
      ko: 'í•œêµ­ì–´',
      tr: 'TÃ¼rkÃ§e',
      ru: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹',
      hi: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€',
      ur: 'Ø§Ø±Ø¯Ùˆ'
    };
    return names[code] || code;
  }

  getLanguageFlag(code) {
    const flags = {
      ar: 'ğŸ‡¸ğŸ‡¦',
      en: 'ğŸ‡ºğŸ‡¸',
      fr: 'ğŸ‡«ğŸ‡·',
      de: 'ğŸ‡©ğŸ‡ª',
      es: 'ğŸ‡ªğŸ‡¸',
      zh: 'ğŸ‡¨ğŸ‡³',
      ja: 'ğŸ‡¯ğŸ‡µ',
      ko: 'ğŸ‡°ğŸ‡·',
      tr: 'ğŸ‡¹ğŸ‡·',
      ru: 'ğŸ‡·ğŸ‡º',
      hi: 'ğŸ‡®ğŸ‡³',
      ur: 'ğŸ‡µğŸ‡°'
    };
    return flags[code] || 'ğŸŒ';
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ”„ ARABIC TRANSLATION (Original functionality preserved)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const TRANSLATIONS = {
  // Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙƒÙˆØ¯
  'Ø£Ø¹Ø·Ù†ÙŠ Ø£Ù…Ø±': 'Generate a command for',
  'Ø³Ùˆ Ù„ÙŠ': 'Create for me',
  'Ø§ÙƒØªØ¨ ÙƒÙˆØ¯': 'Write code for',
  'Ø¹Ø¯Ù„': 'Modify',
  'ØµÙ„Ø­': 'Fix',
  'Ø§Ù…Ø± Ù†Ø³Ø®': 'copy command',
  'Ø§Ù…Ø± Ù„ØµÙ‚': 'paste command',
  'Ù†Ø³Ø® Ù„ØµÙ‚': 'CLI command to copy',
  
  // Azure
  'Ø§Ø²ÙŠØ±': 'Azure',
  'ÙƒÙ„Ø§ÙˆØ¯': 'cloud',
  'Ø§Ø´ØªØ±Ø§Ùƒ': 'subscription',
  'Ù…ÙØªØ§Ø­': 'key',
  'Ø±ÙŠØ³ÙˆØ±Ø³': 'resource',
  
  // Ø¹Ù…Ù„ÙŠØ§Øª
  'Ø§Ø­Ø°Ù': 'delete',
  'Ø§Ù…Ø³Ø­': 'remove',
  'Ø´ØºÙ„': 'run',
  'Ù†ÙØ°': 'execute',
  'Ø§Ø±ÙØ¹': 'deploy',
  'Ø­Ù…Ù„': 'download',
  
  // GitHub
  'Ø¬ÙŠØª Ù‡Ø¨': 'GitHub',
  'Ø±ÙŠØ¨Ùˆ': 'repository',
  'ÙƒÙˆÙ…ÙŠØª': 'commit',
  'Ø¨ÙˆØ´': 'push',
  'Ø¨ÙˆÙ„': 'pull'
};

// ÙƒÙ„Ù…Ø§Øª ØªØ«ÙŠØ± Ø­Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ (Ù†ØªØ¬Ù†Ø¨Ù‡Ø§)
const SENSITIVE_WORDS = [
  'Ø³Ø±', 'Ø£Ø³Ø±Ø§Ø±', 'Ø®Ø§Øµ', 'Ø­Ø³Ø§Ø³', 'password', 'secret', 'private',
  'hack', 'Ø§Ø®ØªØ±Ø§Ù‚', 'Ø³Ø±Ù‚Ø©', 'ØªØ¬Ø³Ø³'
];

// Ø¨Ø¯Ø§Ø¦Ù„ Ø¢Ù…Ù†Ø©
const SAFE_ALTERNATIVES = {
  'Ø£Ø¹Ø·Ù†ÙŠ Ø£Ø³Ø±Ø§Ø±': 'Ø£Ø¹Ø·Ù†ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙƒÙˆÙŠÙ†',
  'Ù…ÙØ§ØªÙŠØ­ Ø³Ø±ÙŠØ©': 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯',
  'ÙƒÙ„Ù…Ø© Ø³Ø±': 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„',
  'Ø§Ø®ØªØ±Ø§Ù‚': 'Ø§Ø®ØªØ¨Ø§Ø± Ø£Ù…Ø§Ù†',
  'Ø³Ø±Ù‚Ø©': 'Ù†Ù‚Ù„ Ø¨ÙŠØ§Ù†Ø§Øª'
};

// Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
const REQUEST_PATTERNS = {
  // Ù†Ù…Ø·: "Ø£Ø¹Ø·Ù†ÙŠ Ø£Ù…Ø± [Ø´ÙŠ] Ù„Ù€ [Ù‡Ø¯Ù]"
  copyCommand: {
    pattern: /(?:Ø£Ø¹Ø·Ù†ÙŠ|Ø¹Ø·Ù†ÙŠ|Ø§Ø¹Ø·Ù†ÙŠ)\s*(?:Ø£Ù…Ø±|Ø§Ù…Ø±)?\s*(?:Ù†Ø³Ø®|ÙƒÙˆØ¨ÙŠ|copy)/i,
    transform: (match, context) => {
      return `Please provide a CLI/PowerShell command to copy ${context.target || 'the specified item'}. 
Format: Just the command, ready to copy-paste.
No explanations needed, just the command.`;
    }
  },
  
  // Ù†Ù…Ø·: "Ø³Ùˆ Ù„ÙŠ [Ø´ÙŠ]"
  createSomething: {
    pattern: /(?:Ø³Ùˆ|Ø³ÙˆÙŠ|Ø§Ø³ÙˆÙŠ|Ø³ÙˆÙ„ÙŠ)\s*(?:Ù„ÙŠ)?\s*(.+)/i,
    transform: (match, context) => {
      const thing = match[1] || context.target;
      return `Create ${thing} for me.
Requirements:
- Simple and clean
- Ready to use
- With brief comments if code`;
    }
  },
  
  // Ù†Ù…Ø·: "ÙƒÙŠÙ [Ø£Ø³ÙˆÙŠ Ø´ÙŠ]"
  howTo: {
    pattern: /(?:ÙƒÙŠÙ|Ø´Ù„ÙˆÙ†|Ø§Ø²Ø§ÙŠ)\s*(.+)/i,
    transform: (match) => {
      return `How do I ${match[1]}?
Please provide:
1. Step-by-step instructions
2. Commands if applicable
3. Brief explanation`;
    }
  },
  
  // Ù†Ù…Ø·: Azure commands
  azureCommand: {
    pattern: /(?:Ø£Ù…Ø±|Ø§Ù…Ø±|command)?\s*(?:Ø§Ø²ÙŠØ±|azure|ÙƒÙ„Ø§ÙˆØ¯)/i,
    transform: (match, context) => {
      return `Provide Azure CLI command for: ${context.action || 'the requested operation'}
Format: az command ready to copy
Include any required parameters as placeholders.`;
    }
  }
};

class SmartTranslator {
  constructor() {
    this.secretPatterns = this.buildSecretPatterns();
  }

  // Ø¨Ù†Ø§Ø¡ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø£Ø³Ø±Ø§Ø± Ù„Ù„Ø¥Ø®ÙØ§Ø¡
  buildSecretPatterns() {
    return [
      // Azure keys
      { pattern: /[A-Za-z0-9+/]{40,}={0,2}/g, replacement: '[AZURE_KEY_HIDDEN]' },
      // GUIDs
      { pattern: /[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi, replacement: '[GUID_HIDDEN]' },
      // API Keys
      { pattern: /(?:api[_-]?key|apikey)[=:]\s*["']?([^"'\s]+)/gi, replacement: 'api_key=[KEY_HIDDEN]' },
      // Passwords
      { pattern: /(?:password|pwd|pass)[=:]\s*["']?([^"'\s]+)/gi, replacement: 'password=[HIDDEN]' },
      // Tokens
      { pattern: /(?:token|bearer)[=:]\s*["']?([^"'\s]+)/gi, replacement: 'token=[HIDDEN]' },
      // Connection strings
      { pattern: /(?:connection[_-]?string)[=:]\s*["']?([^"'\n]+)/gi, replacement: 'connection_string=[HIDDEN]' },
      // Emails (partial hide)
      { pattern: /([a-zA-Z0-9._%+-]+)@([a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/g, replacement: (m, user, domain) => `${user.substring(0,2)}***@${domain}` }
    ];
  }

  // ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø¥Ù„Ù‰ prompt ØªÙ‚Ù†ÙŠ
  translateRequest(arabicText, mode = 'normal') {
    let translated = arabicText;

    // 1. Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
    for (const [arabic, english] of Object.entries(TRANSLATIONS)) {
      const regex = new RegExp(arabic, 'gi');
      translated = translated.replace(regex, english);
    }

    // 2. ØªØ·Ø¨ÙŠÙ‚ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø·Ù„Ø¨Ø§Øª
    for (const [name, pattern] of Object.entries(REQUEST_PATTERNS)) {
      const match = arabicText.match(pattern.pattern);
      if (match) {
        return {
          original: arabicText,
          translated: pattern.transform(match, { target: translated }),
          pattern: name,
          mode
        };
      }
    }

    // 3. Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙˆØ¶Ø¹
    const modeInstructions = {
      normal: '',
      code: '\n\nProvide code only, minimal explanations. Ready to copy-paste.',
      safe: '\n\nUse placeholder values for any sensitive data. Do not include real credentials.',
      research: '\n\nProvide sources and references. Cite official documentation when possible.'
    };

    return {
      original: arabicText,
      translated: translated + (modeInstructions[mode] || ''),
      pattern: 'general',
      mode
    };
  }

  // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø³Ø±Ø§Ø± Ù…Ù† Ø§Ù„Ù†Øµ
  hideSecrets(text) {
    let hidden = text;
    let secretsFound = [];

    for (const { pattern, replacement } of this.secretPatterns) {
      const matches = text.match(pattern);
      if (matches) {
        secretsFound.push(...matches);
        if (typeof replacement === 'function') {
          hidden = hidden.replace(pattern, replacement);
        } else {
          hidden = hidden.replace(pattern, replacement);
        }
      }
    }

    return {
      original: text,
      hidden,
      secretsCount: secretsFound.length,
      secretsFound: secretsFound.map(s => s.substring(0, 10) + '...')
    };
  }

  // Ø§Ø³ØªØ¨Ø¯Ø§Ù„ ÙƒÙ„Ù…Ø§Øª Ø­Ø³Ø§Ø³Ø© Ø¨Ø¨Ø¯Ø§Ø¦Ù„ Ø¢Ù…Ù†Ø©
  makeSafe(text) {
    let safe = text;
    
    for (const [sensitive, alternative] of Object.entries(SAFE_ALTERNATIVES)) {
      const regex = new RegExp(sensitive, 'gi');
      safe = safe.replace(regex, alternative);
    }

    return safe;
  }

  // Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø°ÙƒÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø§ ÙŠÙƒØªØ¨Ù‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  getSuggestions(text) {
    const suggestions = [];

    if (text.includes('Ø£Ù…Ø±') || text.includes('Ø§Ù…Ø±')) {
      suggestions.push({ text: 'ğŸ’» ÙˆØ¶Ø¹ Ø§Ù„ÙƒÙˆØ¯', action: 'setMode', mode: 'code' });
    }

    if (text.includes('Ø§Ø²ÙŠØ±') || text.includes('azure')) {
      suggestions.push({ text: 'ğŸ”’ ÙˆØ¶Ø¹ Ø¢Ù…Ù† (ÙŠØ®ÙÙŠ Ø§Ù„Ù…ÙØ§ØªÙŠØ­)', action: 'setMode', mode: 'safe' });
    }

    if (text.includes('Ø¨Ø­Ø«') || text.includes('Ù…ØµØ§Ø¯Ø±')) {
      suggestions.push({ text: 'ğŸ” ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ø­Ø«', action: 'setMode', mode: 'research' });
    }

    if (text.length > 50) {
      suggestions.push({ text: 'ğŸ™ˆ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø³Ø±Ø§Ø±', action: 'hideSecrets' });
    }

    return suggestions;
  }

  // ØªÙˆÙ„ÙŠØ¯ prompt Ù…Ø«Ø§Ù„ÙŠ Ù„ÙƒÙ„ Ù†Ù…ÙˆØ°Ø¬
  generateOptimalPrompt(text, targetModel) {
    const base = this.translateRequest(text);
    
    const modelPrefixes = {
      'claude': 'Please help me with the following task. Be thorough but concise:\n\n',
      'gpt': 'Task:\n\n',
      'deepseek': '# Task\n\n',
      'perplexity': 'Research the following and provide sources:\n\n'
    };

    const prefix = modelPrefixes[targetModel] || '';
    
    return {
      ...base,
      optimized: prefix + base.translated,
      targetModel
    };
  }
}

// ØªØµØ¯ÙŠØ± Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { SmartTranslator, TRANSLATIONS, REQUEST_PATTERNS };
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸš€ INITIALIZE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Create global instances
const langManager = new LanguageManager();

// Initialize on DOM ready
document.addEventListener('DOMContentLoaded', () => {
  // Set up language selector
  const langSelect = document.getElementById('language-select');
  if (langSelect) {
    langSelect.value = langManager.getCurrentLang();
    langSelect.addEventListener('change', (e) => {
      langManager.setLanguage(e.target.value);
    });
  }
  
  // Initial UI update
  langManager.updateUI();
});

// Export for use in other files
window.langManager = langManager;
window.i18n = i18n;
window.t = (key) => langManager.t(key);
